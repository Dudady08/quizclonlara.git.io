<!DOCTYPE html> 
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./ciencias.css">
  <title>Quiz - Quem sou eu?</title>
</head>
<body>
  <div class="quiz-box">
    <h1>Quem sou eu?</h1>
    <div id="dicas" class="dicas">Clique em "Come√ßar" para iniciar o desafio!</div>

    <div class="input-group">
      <input type="text" id="resposta" placeholder="Digite sua resposta">
      <button class="btn" onclick="verificar()">Responder</button>
    </div>
    
    <div class="button-group">
        <a href="./quiz.html" class="btn">In√≠cio</a>
        <button id="btnIniciar" class="btn" onclick="proximaPergunta()">Come√ßar</button>
    </div>

    <p id="resultado" class="resultado"></p>
  </div>

  <script>
    // --- Banco de perguntas ---
    const perguntas = [
      {
        dicas: [
          "Dica 1: Estou presente em todos os corpos que t√™m massa.",
          "Dica 2: Sou uma das quatro for√ßas fundamentais do universo.",
          "Dica 3: Mantenho a Lua orbitando a Terra.",
          "Dica 4: Sou respons√°vel por manter os p√©s no ch√£o.",
          "Dica 5: Fa√ßo todas as coisas ca√≠rem."
        ],
        resposta: "Gravidade"
      },
      {
        dicas: [
          "Dica 1: Sou feito principalmente de gases.",
          "Dica 2: Sou uma esfera gigante em constante explos√£o.",
          "Dica 3: Estou no centro de um sistema.",
          "Dica 4: Influencio o dia e a noite.",
          "Dica 5: Palavra: S _ _"
        ],
        resposta: "Sol"
      },
      {
        dicas: [
          "Dica 1: Posso mudar de estado f√≠sico.",
          "Dica 2: N√£o tenho cor, cheiro ou sabor.",
          "Dica 3: Cubro a maior parte da superf√≠cie do planeta.",
          "Dica 4: Sou essencial para todos os seres vivos.",
          "Dica 5: Palavra: √Å _ _ a"
        ],
        resposta: "√Ågua"
      },
      {
        dicas: [
          "Dica 1: N√£o tenho luz pr√≥pria.",
          "Dica 2: Estou sempre acompanhando a Terra.",
          "Dica 3: Influencio o movimento das mar√©s.",
          "Dica 4: Apare√ßo em fases diferentes no c√©u.",
          "Dica 5: Palavra: L _ _"
        ],
        resposta: "Lua"
      },
      {
        dicas: [
          "Dica 1: Sou formado por bilh√µes de c√©lulas chamadas neur√¥nios.",
          "Dica 2: Trabalho com sinais el√©tricos e qu√≠micos.",
          "Dica 3: Controlo os movimentos do corpo.",
          "Dica 4: Tamb√©m sou respons√°vel pelos pensamentos.",
          "Dica 5: Palavra: _ √© r _ _ r o"
        ],
        resposta: "C√©rebro"
      },
      {
        dicas: [
          "Dica 1: Preciso de luz para viver.",
          "Dica 2: Transformo energia do Sol em alimento.",
          "Dica 3: Produzo oxig√™nio para o ambiente.",
          "Dica 4: Posso dar frutos, flores ou sementes.",
          "Dica 5: Palavra: P _ a n _ A"
        ],
        resposta: "Planta"
      }
    ];

    // --- Elementos do HTML ---
    const btnIniciar = document.getElementById('btnIniciar');
    const dicasEl = document.getElementById("dicas");
    const resultadoEl = document.getElementById("resultado");
    const respostaInput = document.getElementById("resposta");

    // --- Vari√°veis do jogo ---
    let perguntaAtual = 0;
    let dicaAtual = 0;
    let tentativas = 0;
    let jogoAtivo = false;

    function proximaPergunta() {
      jogoAtivo = true;
      btnIniciar.style.display = 'none'; // esconde o bot√£o

      // reinicia vari√°veis
      dicaAtual = 0;
      tentativas = 0;

      mostrarDica();
    }

    function mostrarDica() {
      dicasEl.innerHTML = perguntas[perguntaAtual].dicas.slice(0, dicaAtual + 1).join("<br>");
      resultadoEl.textContent = "";
      respostaInput.value = "";
      respostaInput.focus();
    }

    function verificar() {
      if (!jogoAtivo) {
        resultadoEl.textContent = "Clique em 'Pr√≥xima Pergunta' para iniciar!";
        return;
      }

      const respostaUsuario = respostaInput.value.trim();
      if (!respostaUsuario) {
        resultadoEl.textContent = "Digite algo para responder!";
        return;
      }

      const respostaCorreta = perguntas[perguntaAtual].resposta;

      if (respostaUsuario.toLowerCase() === respostaCorreta.toLowerCase()) {
        resultadoEl.textContent = "Parab√©ns! Voc√™ acertou! Era " + respostaCorreta + "!üéâ";
         resultadoEl.className = "acerto";
        jogoAtivo = false;
        btnIniciar.style.display = 'inline-block'; // bot√£o reaparece
        if (perguntaAtual < perguntas.length - 1) {
          btnIniciar.textContent = "Pr√≥xima Pergunta";
        } else {
          btnIniciar.textContent = "Fim do jogo!";
          btnIniciar.disabled = true;
        }
      } else {
        tentativas++;
        if (tentativas < 5 && dicaAtual < perguntas[perguntaAtual].dicas.length - 1) {
          dicaAtual++;
          mostrarDica();
          resultadoEl.textContent = "Ops! Resposta errada. Veja a pr√≥xima dica! üòî";
           resultadoEl.className = "erro";
        } else {
          resultadoEl.textContent = "Fim de jogo! A resposta era: " + respostaCorreta;
          jogoAtivo = false;
          btnIniciar.style.display = 'inline-block'; // bot√£o reaparece
          if (perguntaAtual < perguntas.length - 1) {
            btnIniciar.textContent = "Pr√≥xima Pergunta";
          } else {
            btnIniciar.textContent = "Fim do Quiz!";
            btnIniciar.disabled = true;
          }
        }
      }
      respostaInput.value = "";
      respostaInput.focus();
    }

    // Quando clicar no bot√£o "Pr√≥xima Pergunta"
    btnIniciar.addEventListener("click", function() {
      if (perguntaAtual < perguntas.length - 1) {
        perguntaAtual++;
        dicaAtual = 0;
        tentativas = 0;
        proximaPergunta();
      }
    });
  </script>
</body>
</html>