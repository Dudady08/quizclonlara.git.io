<!DOCTYPE html> 
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./ciencias.css">
  <title>Quiz - Quem sou eu?</title>
</head>
<body>
  <div class="quiz-box">
    <h1>Quem sou eu?</h1>
    <div id="dicas" class="dicas">Clique em "Come√ßar" para iniciar o desafio!</div>

    <div class="input-group">
      <input type="text" id="resposta" placeholder="Digite sua resposta">
      <button class="btn" onclick="verificar()">Responder</button>
    </div>
    
    <div class="button-group">
        <a href="./index.html" class="btn">In√≠cio</a>
        <button id="btnIniciar" class="btn" onclick="proximaPergunta()">Come√ßar</button>
    </div>

    <p id="resultado" class="resultado"></p>
  </div>

  <script>
    // --- Banco de perguntas ---
    const perguntas = [
      {
        dicas: [
          "Dica 1: Estou presente em todos os corpos que t√™m massa.",
          "Dica 2: Sou uma das quatro for√ßas fundamentais do universo.",
          "Dica 3: Mantenho a Lua orbitando a Terra.",
          "Dica 4: Sou respons√°vel por manter os p√©s no ch√£o.",
          "Dica 5: Fa√ßo todas as coisas ca√≠rem."
        ],
        resposta: "Gravidade"
      },
      {
        dicas: [
          "Dica 1: Estou presente em todos os corpos que t√™m massa.",
          "Dica 2: Sou uma das quatro for√ßas fundamentais do universo.",
          "Dica 3: Mantenho a Lua orbitando a Terra.",
          "Dica 4: Fa√ßo todas as coisas ca√≠rem.",
          "Dica 5: Palavra: _ r a _ i d _ _ e"
        ],
        resposta: "Gravidade"
      },
      {
        dicas: [
          "Dica 1: Sou extremamente pequeno e n√£o posso ser visto a olho nu.",
          "Dica 2: Fui descrito por diferentes modelos ao longo da hist√≥ria.",
          "Dica 3: Tenho pr√≥tons, n√™utrons e el√©trons.",
          "Dica 4: Sou a unidade b√°sica da mat√©ria.",
          "Dica 5: Palavra: √° _ _ m _"
        ],
        resposta: "√Åtomo"
      },
      {
        dicas: [
          "Dica 1: Posso conter bilh√µes de estrelas.",
          "Dica 2: Tenho formas como espiral, el√≠ptica ou irregular.",
          "Dica 3: A Via L√°ctea √© um exemplo de mim.",
          "Dica 4: Conto com planetas, poeira c√≥smica e buracos negros.",
          "Dica 5: Palavra: G _ _ √° x _ a"
        ],
        resposta: "Gal√°xia"
      },
      {
        dicas: [
          "Dica 1: Posso ser medida em diferentes escalas.",
          "Dica 2: Estou ligada √† energia cin√©tica das part√≠culas.",
          "Dica 3: Posso ser medida em graus Celsius, Fahrenheit ou Kelvin.",
          "Dica 4: Determino se algo est√° quente ou frio.",
          "Dica 5: Palavra: _ e m _ _ r _ _ u r _"
        ],
        resposta: "Temperatura",
      },
      {
        dicas: [
          "Dica 1: Sou um organismo microsc√≥pico unicelular.",
          "Dica 2: Posso viver em ambientes extremos.",
          "Dica 3: Algumas de mim causam doen√ßas.",
          "Dica 4: Outras ajudam no processo de decomposi√ß√£o ou digest√£o.",
          "Dica 5: Palavra: _ a c _ _ r i _"
        ],
        resposta: "Bact√©ria"
      }
    ];

    // --- Elementos do HTML ---
    const btnIniciar = document.getElementById('btnIniciar');
    const dicasEl = document.getElementById("dicas");
    const resultadoEl = document.getElementById("resultado");
    const respostaInput = document.getElementById("resposta");

    // --- Vari√°veis do jogo ---
    let perguntaAtual = 0;
    let dicaAtual = 0;
    let tentativas = 0;
    let jogoAtivo = false;

    function proximaPergunta() {
      jogoAtivo = true;
      btnIniciar.style.display = 'none'; // esconde o bot√£o

      // reinicia vari√°veis
      dicaAtual = 0;
      tentativas = 0;

      mostrarDica();
    }

    function mostrarDica() {
      dicasEl.innerHTML = perguntas[perguntaAtual].dicas.slice(0, dicaAtual + 1).join("<br>");
      resultadoEl.textContent = "";
      respostaInput.value = "";
      respostaInput.focus();
    }

    function verificar() {
      if (!jogoAtivo) {
        resultadoEl.textContent = "Clique em 'Pr√≥xima Pergunta' para iniciar!";
        return;
      }

      const respostaUsuario = respostaInput.value.trim();
      if (!respostaUsuario) {
        resultadoEl.textContent = "Digite algo para responder!";
        return;
      }

      const respostaCorreta = perguntas[perguntaAtual].resposta;

      if (respostaUsuario.toLowerCase() === respostaCorreta.toLowerCase()) {
        resultadoEl.textContent = "Parab√©ns! Voc√™ acertou! Era " + respostaCorreta + "!üéâ";
         resultadoEl.className = "acerto";
        jogoAtivo = false;
        btnIniciar.style.display = 'inline-block'; // bot√£o reaparece
        if (perguntaAtual < perguntas.length - 1) {
          btnIniciar.textContent = "Pr√≥xima Pergunta";
        } else {
          btnIniciar.textContent = "Fim do Quiz!";
          btnIniciar.disabled = true;
        }
      } else {
        tentativas++;
        if (tentativas < 5 && dicaAtual < perguntas[perguntaAtual].dicas.length - 1) {
          dicaAtual++;
          mostrarDica();
          resultadoEl.textContent = "Ops! Resposta errada. Veja a pr√≥xima dica! üòî";
           resultadoEl.className = "erro";
        } else {
          resultadoEl.textContent = "Fim de jogo! A resposta era: " + respostaCorreta;
          jogoAtivo = false;
          btnIniciar.style.display = 'inline-block'; // bot√£o reaparece
          if (perguntaAtual < perguntas.length - 1) {
            btnIniciar.textContent = "Pr√≥xima Pergunta";
          } else {
            btnIniciar.textContent = "Fim do jogo!";
            btnIniciar.disabled = true;
          }
        }
      }
      respostaInput.value = "";
      respostaInput.focus();
    }

    // Quando clicar no bot√£o "Pr√≥xima Pergunta"
    btnIniciar.addEventListener("click", function() {
      if (perguntaAtual < perguntas.length - 1) {
        perguntaAtual++;
        dicaAtual = 0;
        tentativas = 0;
        proximaPergunta();
      }
    });
  </script>
</body>
</html>
